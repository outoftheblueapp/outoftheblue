function extractUrl(s){
  const m = s.match(/https?:\/\/[^\s)\]]+/i);
  return m ? m[0].replace(/[),.]+$/,'') : null;
}

function renderUsefulLine(line){
  const text = (line || '').trim();
  const url = extractUrl(text);

  // Header: no URL and ends with colon
  if (!url && text.endsWith(':')) {
    return <p className="mb-3 leading-relaxed"><strong>{text}</strong></p>;
  }

  if (url) {
    const label = text
      .replace(/https?:\/\/[^\s)\]]+/i,'')
      .replace(/[()]/g,'')
      .trim() || 'Open';
    return <p className="mb-3 leading-relaxed"><a href={url} target="_blank" rel="noopener">{label}</a></p>;
  }

  return <p className="mb-3 leading-relaxed">{text}</p>;
}
